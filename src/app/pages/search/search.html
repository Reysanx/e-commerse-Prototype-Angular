<div class="container mx-auto px-4 py-8">
    <div class="mb-8">
        <a routerLink="/"
            class="inline-flex items-center text-gray-600 dark:text-gray-400 hover:text-violet-600 dark:hover:text-violet-400 transition-colors mb-4">
            <lucide-icon [img]="ArrowLeftIcon" class="w-4 h-4 mr-2"></lucide-icon>
            Volver al inicio
        </a>

        @if (searchQuery$ | async; as query) {
        <h1 class="text-3xl font-bold text-gray-900 dark:text-white mb-2">
            Resultados de búsqueda
        </h1>
        <p class="text-gray-600 dark:text-gray-400">
            Mostrando resultados para: <span class="font-semibold text-violet-600 dark:text-violet-400">"{{ query
                }}"</span>
        </p>
        }
    </div>

    @if (products$ | async; as products) {
    @if (products.length > 0) {
    <div class="mb-4">
        <p class="text-sm text-gray-600 dark:text-gray-400">
            {{ products.length }} {{ products.length === 1 ? 'producto encontrado' : 'productos encontrados' }}
        </p>
    </div>

    <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 animate-fade-in-up">
        @for (product of products; track product.id) {
        <app-product-card [id]="product.id" [name]="product.name" [price]="product.price" [image]="product.image"
            [category]="product.category" [isNew]="product.isNew" [discount]="product.discount"
            [originalPrice]="product.originalPrice" />
        }
    </div>
    } @else {
    <div class="flex flex-col items-center justify-center min-h-[40vh] text-center space-y-4">
        <div class="w-20 h-20 bg-gray-100 dark:bg-gray-800 rounded-full flex items-center justify-center">
            <lucide-icon [img]="SearchXIcon" class="w-10 h-10 text-gray-400"></lucide-icon>
        </div>
        <h2 class="text-xl font-semibold text-gray-900 dark:text-white">No se encontraron resultados</h2>
        <p class="text-gray-600 dark:text-gray-400 max-w-md">
            No encontramos productos que coincidan con tu búsqueda. Intenta con otros términos.
        </p>
        <a routerLink="/"
            class="mt-4 px-6 py-2 bg-violet-600 hover:bg-violet-700 text-white rounded-lg transition-colors">
            Explorar productos
        </a>
    </div>
    }
    }
</div>